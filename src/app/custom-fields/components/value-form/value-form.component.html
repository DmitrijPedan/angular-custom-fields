<form [formGroup]="form" class="cf-form">

  <div class="cv-input" [ngClass]="{'cv-checkbox': type === 'checkbox'}" >

    <ng-container *ngIf="type === 'text'">
      <input
        type="text"
        [formControlName]="name"
        [id]="name"
        [required]="attrs.required"
        [minLength]="attrs.minLength ? attrs.minLength : 0"
        [maxLength]="attrs.maxLength ? attrs.maxLength : 524288">
    </ng-container>

    <ng-container *ngIf="type === 'textarea'">
    <textarea
      [formControlName]="name"
      [id]="name"
      [rows]="attrs.rows ? attrs.rows : 3"
      [required]="attrs.required"
      [minLength]="attrs.minLength ? attrs.minLength : 0"
      [maxLength]="attrs.maxLength ? attrs.maxLength : 524288"
    ></textarea>
    </ng-container>

    <ng-container *ngIf="type === 'checkbox'">
      <input
        type="checkbox"
        [formControlName]="name"
        [id]="name"
        [required]="attrs.required">
    </ng-container>

    <ng-container *ngIf="type === 'number'">
      <input
        type="number"
        [formControlName]="name"
        [id]="name"
        [required]="attrs.required"
        [min]="attrs.min ? attrs.min : 0"
        [max]="attrs.max ? attrs.max : 524288"
        [step]="attrs.step ? attrs.step : 1">
    </ng-container>

    <ng-container *ngIf="type === 'image'">
      <cf-image-input
        [imageSrc]="form.get(name)?.value"
        [required]="attrs.required"
        (addImage)="selectImage()"
        (removeImage)="form.get(name)?.setValue('')"
      ></cf-image-input>
      <input type="text" hidden
        [formControlName]="name"
        [id]="name"
        [required]="attrs.required">
    </ng-container>

    <label
      [htmlFor]="name"
      [ngClass]="{'required': attrs.required}"
    >{{label}}</label>

  </div>

</form>

